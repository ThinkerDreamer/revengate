<MapWidget>
    app: app
    do_rotation: False

    
<HeroNameDialog>
    app: app
    title: "Create your hero"
    type: "custom"
    
    
<HeroNameDialogContent>
    id: dia_content
    orientation: "vertical"
    spacing: "12dp"
    size_hint_y: None
    height: "72dp"
    
    MDTextField:
        data_name: "hero_name"
        id: hero_name_field
        hint_text: "Name"
        multiline: False

        
<MainScreenButton@MDRectangleFlatButton>:
    pos_hint: {"center_x": 0.5}


ScreenManager:
    id: sm
    map_wid: map_wid
    
    MDScreen:
        name: 'mainscreen'
                
        MDBoxLayout:
            spacing: "32dp"
            padding: "32dp"
            orientation: "vertical"
            halign: "center"
            width: self.parent.width

            MDLabel:
                halign: "center"
                text: "Welcome to Revengate!"
                font_size: "45sp"
                font_weight: "bold"
                
            MainScreenButton:
                id: new_game_bt
                text: "New Game"
                on_release: app.show_hero_name_dia()
            
            MainScreenButton:
                id: resume_game_bt
                text: "Resume"
                on_release: app.show_map_screen()

    Screen:
        name: 'mapscreen'
                    
        BoxLayout:
            orientation: "vertical"
            
            MapWidget:
                do_collide_after_children: False
                auto_bring_to_front: False
                size_hint_y: 0.9
                id: map_wid

            BoxLayout:
                size_hint_y: 0.1
                spacing: "16dp"
                padding: "16dp"

                MDRectangleFlatButton:
                    text: "Inspect"
                    on_release: print("inspect!")

                MDRectangleFlatButton:
                    text: "Open"
                    on_release: print("open!")
                    
                MDRectangleFlatButton:
                    text: "Home"
                    on_release: app.show_main_screen()
                    
                MDRectangleFlatButton:
                    text: "Quit"
                    on_release: app.stop()
